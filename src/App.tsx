import { useState, useCallback, useEffect } from 'react';
import { ChevronRight, ChevronLeft, Send, CheckCircle2, FileText, Shield, CreditCard, Disc3, Sparkles, AlertCircle, Megaphone, ArrowLeft, XCircle, Clock, ExternalLink, Home, Loader2, Wallet, Clipboard, FileCheck, Phone } from 'lucide-react';
import { cn } from '@/utils/cn';
import { StepOne, getTrackCount } from './components/StepOne';
import { StepTwo } from './components/StepTwo';
import { StepThree } from './components/StepThree';
import { StepFour } from './components/StepFour';
import { StepPromo } from './components/StepPromo';
import { submitToGoogleSheets } from './services/googleSheets';
import SignPage from './pages/Sign';

type AppMode = 'home' | 'distribution' | 'promo' | 'success' | 'fail' | 'result' | 'sign';

const DISTRIBUTION_STEPS = [
  { id: 1, label: '–†–µ–ª–∏–∑', icon: Disc3 },
  { id: 2, label: '–î–æ–≥–æ–≤–æ—Ä', icon: FileText },
  { id: 3, label: '–û—Ñ–µ—Ä—Ç–∞', icon: Shield },
  { id: 4, label: '–û–ø–ª–∞—Ç–∞', icon: CreditCard },
];

type TariffInfo = {
  name: string;
  subtitle: string;
  turnaround: string;
  recommended?: boolean;
  cardClass: string;
  titleClass: string;
  prices: string[];
  features: string[];
  monetization: string[];
  icon: 'music' | 'trending' | 'star' | 'crown';
  emoji: string;
  badge?: string;
  accentColor: string;
};

const TARIFFS: TariffInfo[] = [
  {
    name: '–ë–∞–∑–æ–≤—ã–π',
    subtitle: '–°—Ç–∞—Ä—Ç –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
    turnaround: '7 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π',
    cardClass: 'border-purple-200 bg-white hover:border-purple-300',
    titleClass: 'text-purple-900',
    icon: 'music',
    emoji: 'üéµ',
    badge: '–î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
    accentColor: 'from-purple-500 to-blue-500',
    prices: [
      '–°–∏–Ω–≥–ª: 500 ‚ÇΩ',
      'EP (3-5 —Ç—Ä–µ–∫–æ–≤): 700 ‚ÇΩ',
      '–ê–ª—å–±–æ–º (6-20 —Ç—Ä–µ–∫–æ–≤): 900 ‚ÇΩ (+50 ‚ÇΩ –∑–∞ –∫–∞–∂–¥—ã–π –¥–æ–ø. —Ç—Ä–µ–∫)',
      '–ö–ª–∏–ø/—Å–Ω–∏–ø–ø–µ—Ç/–∫–æ–Ω—Ü–µ—Ä—Ç: 250 ‚ÇΩ',
    ],
    features: [
      '–ë–µ–∑ –ø—Ä–æ–º–æ-–ø–æ–¥–¥–µ—Ä–∂–∫–∏',
      '–¢–µ–∫—Å—Ç—ã –∏ –∫–∞—Ä–∞–æ–∫–µ –≤ VK –ú—É–∑—ã–∫–µ –∏ Apple Music',
      '–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞',
      '–ü–ª–∞—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–∞: 250 ‚ÇΩ',
      '–ú—É–ª—å—Ç–∏-–ª–∏–Ω–∫: 250 ‚ÇΩ',
    ],
    monetization: ['–î–æ–ª—è –∞—Ä—Ç–∏—Å—Ç–∞: 55%', '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞: –æ—Ç 1500 ‚ÇΩ'],
  },
  {
    name: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π',
    subtitle: '–ë–∞–ª–∞–Ω—Å —Ü–µ–Ω—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π',
    turnaround: '4 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è',
    cardClass: 'border-sky-200 bg-white hover:border-sky-300',
    titleClass: 'text-sky-900',
    icon: 'trending',
    emoji: 'üìà',
    badge: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä',
    accentColor: 'from-sky-500 to-cyan-500',
    prices: [
      '–°–∏–Ω–≥–ª: 690 ‚ÇΩ',
      'EP (3-5 —Ç—Ä–µ–∫–æ–≤): 890 ‚ÇΩ',
      '–ê–ª—å–±–æ–º (6-20 —Ç—Ä–µ–∫–æ–≤): 1200 ‚ÇΩ (+50 ‚ÇΩ –∑–∞ –∫–∞–∂–¥—ã–π –¥–æ–ø. —Ç—Ä–µ–∫)',
      '–ö–ª–∏–ø/—Å–Ω–∏–ø–ø–µ—Ç/–∫–æ–Ω—Ü–µ—Ä—Ç: 350 ‚ÇΩ',
    ],
    features: [
      '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∞—á–∏ –Ω–∞ –ø—Ä–æ–º–æ-–ø–æ–¥–¥–µ—Ä–∂–∫—É',
      '–¢–µ–∫—Å—Ç—ã –∏ –∫–∞—Ä–∞–æ–∫–µ –≤ VK –ú—É–∑—ã–∫–µ –∏ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ (–Ω–µ –∫–∞—Ä–∞–æ–∫–µ)',
      '–ë—ã—Å—Ç—Ä–∞—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞',
      '–û–¥–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ',
      '–°–∫–∏–¥–∫–∞ 30% –Ω–∞ —Ç–µ–∫—Å—Ç—ã –¥–ª—è Genius (140 ‚ÇΩ)',
      '–°–∫–∏–¥–∫–∞ 40% –Ω–∞ –∫–∞—Ä–∞–æ–∫–µ (195 ‚ÇΩ)',
      '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º—É–ª—å—Ç–∏-–ª–∏–Ω–∫',
      '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö',
    ],
    monetization: ['–î–æ–ª—è –∞—Ä—Ç–∏—Å—Ç–∞: 70%', '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞: –æ—Ç 1000 ‚ÇΩ'],
  },
  {
    name: '–ü—Ä–µ–º–∏—É–º',
    subtitle: '–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è',
    turnaround: '2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è',
    recommended: true,
    cardClass: 'border-emerald-300 bg-white hover:border-emerald-400 ring-2 ring-emerald-200 ring-offset-2',
    titleClass: 'text-emerald-900',
    icon: 'star',
    emoji: '‚≠ê',
    badge: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π',
    accentColor: 'from-emerald-500 to-teal-500',
    prices: [
      '–°–∏–Ω–≥–ª: 1200 ‚ÇΩ',
      'EP (3-5 —Ç—Ä–µ–∫–æ–≤): 1690 ‚ÇΩ',
      '–ê–ª—å–±–æ–º (6-20 —Ç—Ä–µ–∫–æ–≤): 2290 ‚ÇΩ (+50 ‚ÇΩ –∑–∞ –∫–∞–∂–¥—ã–π –¥–æ–ø. —Ç—Ä–µ–∫)',
      '–ö–ª–∏–ø/—Å–Ω–∏–ø–ø–µ—Ç/–∫–æ–Ω—Ü–µ—Ä—Ç: 380 ‚ÇΩ',
    ],
    features: [
      '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∞—á–∏ –≤ —Ä–µ–¥–∞–∫—Ü–∏–∏ –ø–ª–æ—â–∞–¥–æ–∫ (–ø—Ä–æ–º–æ-–ø–æ–¥–¥–µ—Ä–∂–∫–∞)',
      'Pre-Save –≤ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ',
      '–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ TikTok',
      '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ä–∞–Ω–Ω–∏–π –≤—ã–ø—É—Å–∫ —Ç—Ä–µ–∫–æ–≤ –¥–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞',
      '–¢–µ–∫—Å—Ç—ã –Ω–∞ Genius –±–µ—Å–ø–ª–∞—Ç–Ω–æ',
      '–ö–∞—Ä–∞–æ–∫–µ —Å–æ —Å–∫–∏–¥–∫–æ–π 60% (140 ‚ÇΩ)',
      '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏ –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–ª–∏–∑–∞',
      '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º—É–ª—å—Ç–∏-–ª–∏–Ω–∫',
      '–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞',
    ],
    monetization: ['–î–æ–ª—è –∞—Ä—Ç–∏—Å—Ç–∞: 90%', '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞: –æ—Ç 500 ‚ÇΩ'],
  },
  {
    name: '–ü–ª–∞—Ç–∏–Ω—É–º',
    subtitle: '–ú–∞–∫—Å–∏–º—É–º –±–µ–∑ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤',
    turnaround: '1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å (–¥–æ 24 —á–∞—Å–æ–≤ –≤ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏)',
    cardClass: 'border-amber-300 bg-white hover:border-amber-400',
    titleClass: 'text-amber-900',
    icon: 'crown',
    emoji: 'üëë',
    badge: '–ü—Ä–µ–º–∏—É–º',
    accentColor: 'from-amber-500 to-orange-600',
    prices: [
      '–°–∏–Ω–≥–ª: 4990 ‚ÇΩ',
      'EP (3-5 —Ç—Ä–µ–∫–æ–≤): 6490 ‚ÇΩ',
      '–ê–ª—å–±–æ–º (6-20 —Ç—Ä–µ–∫–æ–≤): 7990 ‚ÇΩ (+50 ‚ÇΩ –∑–∞ –∫–∞–∂–¥—ã–π –¥–æ–ø. —Ç—Ä–µ–∫)',
      '–ö–ª–∏–ø/—Å–Ω–∏–ø–ø–µ—Ç/–∫–æ–Ω—Ü–µ—Ä—Ç: 1490 ‚ÇΩ',
    ],
    features: [
      '–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–º–æ-–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –æ—Ö–≤–∞—Ç–æ–º',
      '–õ–∏—á–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä: –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö',
      '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ—Ç—ã YouTube (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∞—Ä—Ç–∏—Å—Ç)',
      '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ: —Ç–µ–∫—Å—Ç—ã –Ω–∞ Genius, –∫–∞—Ä–∞–æ–∫–µ, –º—É–ª—å—Ç–∏-–ª–∏–Ω–∫',
      'Pre-Save –≤ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ + —Ä–∞–Ω–Ω–∏–π –≤—ã–ø—É—Å–∫ —Ç—Ä–µ–∫–æ–≤',
      '–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞',
    ],
    monetization: ['–î–æ–ª—è –∞—Ä—Ç–∏—Å—Ç–∞: 100%', '–í—ã–ø–ª–∞—Ç—ã: —Å –ª—é–±–æ–π —Å—É–º–º—ã'],
  },
];

/* ‚ïê‚ïê‚ïê Validation ‚ïê‚ïê‚ïê */
interface ValidationResult {
  valid: boolean;
  errors: string[];
}

function validateStep1(data: Record<string, string>): ValidationResult {
  const errors: string[] = [];
  
  if (!data.tariff) errors.push('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ');
  if (!data.releaseType) errors.push('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ä–µ–ª–∏–∑–∞');
  if (!data.releaseName?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞');
  if (!data.mainArtist?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞—Ä—Ç–∏—Å—Ç–∞');
  if (!data.releaseLink?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ª–∏–∑');
  if (!data.genre?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∂–∞–Ω—Ä');
  if (!data.language && !data.languageOther) errors.push('–£–∫–∞–∂–∏—Ç–µ —è–∑—ã–∫ —Ä–µ–ª–∏–∑–∞');
  if (!data.releaseDate) errors.push('–£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É —Ä–µ–ª–∏–∑–∞');
  if (!data.coverLink?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±–ª–æ–∂–∫—É');
  if (!data.tiktokExcerpt?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –æ—Ç—Ä—ã–≤–æ–∫ –≤ TikTok');
  const tiktokFullValue = data.tiktokFull || data.fullTiktok;
  if (!tiktokFullValue && (data.tariff === '–ü—Ä–µ–º–∏—É–º' || data.tariff === '–ü–ª–∞—Ç–∏–Ω—É–º')) {
    errors.push('–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é –≤ TikTok');
  }
  const yandexPreSaveValue = data.yandexPreSave || data.preSaveYandex;
  if (!yandexPreSaveValue && (data.tariff === '–ü—Ä–µ–º–∏—É–º' || data.tariff === '–ü–ª–∞—Ç–∏–Ω—É–º')) {
    errors.push('–£–∫–∞–∂–∏—Ç–µ Pre-Save –≤ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ');
  }
  if (!data.karaokeAddition) errors.push('–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä–∞–æ–∫–µ');
  
  // Validate tracks
  const trackCount = getTrackCount(data);
  try {
    const tracks = JSON.parse(data._tracks || '[]');
    for (let i = 0; i < trackCount; i++) {
      const track = tracks[i];
      if (!track?.name?.trim()) errors.push(`–¢—Ä–µ–∫ ${i + 1}: —É–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ`);
      if (!track?.lyricists?.some((l: string) => l?.trim())) errors.push(`–¢—Ä–µ–∫ ${i + 1}: —É–∫–∞–∂–∏—Ç–µ –∞–≤—Ç–æ—Ä–∞ —Ç–µ–∫—Å—Ç–∞`);
      if (!track?.composers?.some((c: string) => c?.trim())) errors.push(`–¢—Ä–µ–∫ ${i + 1}: —É–∫–∞–∂–∏—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ç–æ—Ä–∞`);
      if (!track?.explicitContent) errors.push(`–¢—Ä–µ–∫ ${i + 1}: —É–∫–∞–∂–∏—Ç–µ –Ω–∞–ª–∏—á–∏–µ –Ω–µ–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏`);
      if (!track?.substanceMention) errors.push(`–¢—Ä–µ–∫ ${i + 1}: —É–∫–∞–∂–∏—Ç–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤`);
    }
  } catch {
    errors.push('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–µ–∫–∞—Ö');
  }
  
  return { valid: errors.length === 0, errors };
}

function normalizeDistributionData(data: Record<string, string>): Record<string, string> {
  return {
    ...data,
    tiktokFull: data.tiktokFull || data.fullTiktok || '',
    yandexPreSave: data.yandexPreSave || data.preSaveYandex || '',
  };
}

function validateStep2(data: Record<string, string>): ValidationResult {
  const errors: string[] = [];
  
  if (!data.fullName?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –§–ò–û');
  if (!data.passportNumber?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —Å–µ—Ä–∏—é –∏ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞');
  if (!data.issuedBy?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∫–µ–º –≤—ã–¥–∞–Ω –ø–∞—Å–ø–æ—Ä—Ç');
  if (!data.issueDate) errors.push('–£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –≤—ã–¥–∞—á–∏ –ø–∞—Å–ø–æ—Ä—Ç–∞');
  if (!data.bankDetails?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã');
  if (!data.email?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É');
  
  return { valid: errors.length === 0, errors };
}

function validateStep3(agreed: boolean): ValidationResult {
  if (!agreed) {
    return { valid: false, errors: ['–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö'] };
  }
  return { valid: true, errors: [] };
}

function validateStep4(data: Record<string, string>): ValidationResult {
  const errors: string[] = [];
  
  if (!data.contactInfo?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏');
  if (!data.paymentProof?.trim()) errors.push('–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –æ–ø–ª–∞—Ç—ã');
  
  return { valid: errors.length === 0, errors };
}

function validatePromo(data: Record<string, string>): ValidationResult {
  const errors: string[] = [];
  const promoType = data.promoType;
  
  if (!promoType) {
    errors.push('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–º–æ');
    return { valid: false, errors };
  }
  
  if (promoType === 'detailed') {
    if (!data.promoReleaseLink?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ª–∏–∑');
    if (!data.promoUPC?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ UPC –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞');
    if (!data.promoReleaseDate) errors.push('–£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É —Ä–µ–ª–∏–∑–∞');
    if (!data.promoGenre?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∂–∞–Ω—Ä —Ä–µ–ª–∏–∑–∞');
    if (!data.promoArtistTitle?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ');
    if (!data.promoDescription?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞');
    if (!data.promoArtistInfo?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—Ä—Ç–∏—Å—Ç–µ');
    if (!data.promoPhotos?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏');
    if (!data.promoSocials?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ—Ü—Å–µ—Ç–∏');
    if (!data.promoExtra?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é');
  } else if (promoType === 'weekly') {
    if (!data.promoWeeklyReleaseLink?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ª–∏–∑');
    if (!data.promoWeeklyUPC?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ UPC –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞');
    if (!data.promoWeeklyReleaseDate) errors.push('–£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É —Ä–µ–ª–∏–∑–∞');
    if (!data.promoWeeklyGenre?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∂–∞–Ω—Ä —Ä–µ–ª–∏–∑–∞');
  }
  
  if (!data.promoContact?.trim()) errors.push('–£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏');
  
  return { valid: errors.length === 0, errors };
}

// URL route detection
function getRouteFromHash(): AppMode {
  const hash = window.location.hash.slice(1); // Remove #
  if (hash === 'success') return 'success';
  if (hash === 'fail') return 'fail';
  if (hash === 'result') return 'result';
  if (hash === 'distribution') return 'distribution';
  if (hash === 'promo') return 'promo';
  if (hash.startsWith('sign')) return 'sign';
  return 'home';
}

export function App() {
  const [mode, setMode] = useState<AppMode>(getRouteFromHash());
  const scrollToTopInstant = useCallback(() => {
    window.scrollTo({ top: 0, left: 0, behavior: 'auto' });
  }, []);
  
  // Listen for hash changes
  useEffect(() => {
    const handleHashChange = () => {
      setMode(getRouteFromHash());
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };
    
    window.addEventListener('hashchange', handleHashChange);
    return () => window.removeEventListener('hashchange', handleHashChange);
  }, []);

  // Update hash when mode changes
  const navigateTo = useCallback((newMode: AppMode) => {
    setShowOfferModal(false);
    if (newMode === 'home') {
      window.location.hash = '';
    } else {
      window.location.hash = newMode;
    }
    setMode(newMode);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, []);
  
  // Distribution form state
  const [currentStep, setCurrentStep] = useState(1);
  const [formData, setFormData] = useState<Record<string, string>>({});
  const [agreed, setAgreed] = useState(false);
  const [submitted, setSubmitted] = useState(false);
  const [submitting, setSubmitting] = useState(false);
  const [validationErrors, setValidationErrors] = useState<string[]>([]);
  
  // Promo form state
  const [promoData, setPromoData] = useState<Record<string, string>>({});
  const [promoSubmitted, setPromoSubmitted] = useState(false);
  const [promoSubmitting, setPromoSubmitting] = useState(false);
  const [promoErrors, setPromoErrors] = useState<string[]>([]);
  
  // Tariff expandable state (to prevent opening multiple at once)
  const [expandedTariff, setExpandedTariff] = useState<string | null>(null);
  
  // Offer modal state
  const [showOfferModal, setShowOfferModal] = useState(false);

  // Hard reset scroll after mode/form state switches to prevent blank viewport on mobile browsers.
  useEffect(() => {
    if (submitted || promoSubmitted || mode === 'success' || mode === 'fail' || mode === 'result') {
      requestAnimationFrame(() => {
        scrollToTopInstant();
      });
    }
  }, [mode, submitted, promoSubmitted, scrollToTopInstant]);

  const handleChange = useCallback((key: string, value: string) => {
    setFormData((prev) => ({ ...prev, [key]: value }));
  }, []);
  
  const handlePromoChange = useCallback((key: string, value: string) => {
    setPromoData((prev) => ({ ...prev, [key]: value }));
  }, []);

  const goNext = () => {
    const normalized = normalizeDistributionData(formData);
    let validation: ValidationResult = { valid: true, errors: [] };
    
    if (currentStep === 1) {
      validation = validateStep1(normalized);
    } else if (currentStep === 2) {
      validation = validateStep2(normalized);
    } else if (currentStep === 3) {
      validation = validateStep3(agreed);
    }
    
    if (!validation.valid) {
      setValidationErrors(validation.errors);
      window.scrollTo({ top: 0, behavior: 'smooth' });
      return;
    }
    
    setValidationErrors([]);
    setCurrentStep((s) => Math.min(s + 1, 4));
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  const goPrev = () => {
    setValidationErrors([]);
    setCurrentStep((s) => Math.max(s - 1, 1));
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  const handleDistributionSubmit = async () => {
    const normalized = normalizeDistributionData(formData);
    const step1 = validateStep1(normalized);
    const step2 = validateStep2(normalized);
    const step3 = validateStep3(agreed);
    const step4 = validateStep4(normalized);
    
    const allErrors = [...step1.errors, ...step2.errors, ...step3.errors, ...step4.errors];
    
    if (allErrors.length > 0) {
      setValidationErrors(allErrors);
      window.scrollTo({ top: 0, behavior: 'smooth' });
      return;
    }
    
    setValidationErrors([]);
    setSubmitting(true);
    
    try {
      const result = await submitToGoogleSheets('distribution', normalized);
      if (result.success) {
        scrollToTopInstant();
        setSubmitted(true);
      } else {
        setValidationErrors([result.message]);
      }
    } catch (error) {
      console.error('Submit error:', error);
      setValidationErrors(['–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.']);
    } finally {
      setSubmitting(false);
      scrollToTopInstant();
    }
  };
  
  const handlePromoSubmit = async () => {
    const validation = validatePromo(promoData);
    
    if (!validation.valid) {
      setPromoErrors(validation.errors);
      window.scrollTo({ top: 0, behavior: 'smooth' });
      return;
    }
    
    setPromoErrors([]);
    setPromoSubmitting(true);
    
    try {
      const result = await submitToGoogleSheets('promo', promoData);
      if (result.success) {
        scrollToTopInstant();
        setPromoSubmitted(true);
      } else {
        setPromoErrors([result.message]);
      }
    } catch (error) {
      console.error('Submit error:', error);
      setPromoErrors(['–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.']);
    } finally {
      setPromoSubmitting(false);
      scrollToTopInstant();
    }
  };
  
  const goHome = () => {
    navigateTo('home');
    setValidationErrors([]);
    setPromoErrors([]);
  };
  
  const resetDistribution = () => {
    setSubmitted(false);
    setCurrentStep(1);
    setFormData({});
    setAgreed(false);
    setValidationErrors([]);
  };
  
  const resetPromo = () => {
    setPromoSubmitted(false);
    setPromoData({});
    setPromoErrors([]);
  };

  const canSubmitDistribution = !!formData.paymentProof;

  const renderOfferModal = () => {
    if (!showOfferModal) return null;
    return (
      <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4">
        <div className="bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] flex flex-col shadow-2xl">
          <div className="flex items-center justify-between px-8 py-6 border-b border-gray-200">
            <h2 className="text-2xl font-bold text-gray-900">–ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞</h2>
            <button
              type="button"
              onClick={() => setShowOfferModal(false)}
              className="p-2 hover:bg-gray-100 rounded-lg transition-colors"
            >
              <XCircle className="w-6 h-6 text-gray-500" />
            </button>
          </div>

          <div className="overflow-y-auto flex-1 px-8 py-6 text-sm text-gray-700 leading-relaxed space-y-4">
            <p><strong className="text-lg">–ü–£–ë–õ–ò–ß–ù–ê–Ø –û–§–ï–†–¢–ê</strong></p>
            <p><strong className="text-base">–æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–∞ –æ–± –æ–∫–∞–∑–∞–Ω–∏–∏ —É—Å–ª—É–≥</strong></p>

            <div className="space-y-3">
              <p><strong>1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</strong></p>
              <p>–í –Ω–∞—Å—Ç–æ—è—â–µ–π –ü—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è —É—Å–ª–æ–≤–∏—è –∑–∞–∫–ª—é—á–µ–Ω–∏—è –î–æ–≥–æ–≤–æ—Ä–∞ –æ–± –æ–∫–∞–∑–∞–Ω–∏–∏ —É—Å–ª—É–≥ (–¥–∞–ª–µ–µ –ø–æ —Ç–µ–∫—Å—Ç—É - ¬´–î–æ–≥–æ–≤–æ—Ä –æ–± –æ–∫–∞–∑–∞–Ω–∏–∏ —É—Å–ª—É–≥¬ª –∏/–∏–ª–∏ ¬´–î–æ–≥–æ–≤–æ—Ä¬ª).</p>
              <p>–ù–∞—Å—Ç–æ—è—â–µ–π –æ—Ñ–µ—Ä—Ç–æ–π –ø—Ä–∏–∑–Ω–∞–µ—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ –æ–¥–Ω–æ–º—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ª–∏—Ü–∞–º, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ –∏ –≤—ã—Ä–∞–∂–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –ª–∏—Ü–∞, —Å–¥–µ–ª–∞–≤—à–µ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, —Å—á–∏—Ç–∞—Ç—å —Å–µ–±—è –∑–∞–∫–ª—é—á–∏–≤—à–∏–º –î–æ–≥–æ–≤–æ—Ä —Å –∞–¥—Ä–µ—Å–∞—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç –ø—Ä–∏–Ω—è—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.</p>
              <p>–°–æ–≤–µ—Ä—à–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç–µ –¥–µ–π—Å—Ç–≤–∏–π —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Å–æ–≥–ª–∞—Å–∏—è –æ–±–µ–∏—Ö –°—Ç–æ—Ä–æ–Ω –∑–∞–∫–ª—é—á–∏—Ç—å –î–æ–≥–æ–≤–æ—Ä –æ–± –æ–∫–∞–∑–∞–Ω–∏–∏ —É—Å–ª—É–≥ –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ö, –≤ –ø–æ—Ä—è–¥–∫–µ –∏ –æ–±—ä–µ–º–µ, –∏–∑–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç–µ.</p>
              <p>–ù–∏–∂–µ–∏–∑–ª–æ–∂–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ü—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç—ã —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –ø—É–±–ª–∏—á–Ω—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è, –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã–π –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–º—É –∫—Ä—É–≥—É –ª–∏—Ü –∑–∞–∫–ª—é—á–∏—Ç—å –î–æ–≥–æ–≤–æ—Ä –æ–± –æ–∫–∞–∑–∞–Ω–∏–∏ —É—Å–ª—É–≥ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª–æ–∂–µ–Ω–∏—è–º–∏ –ø—É–Ω–∫—Ç–∞ 2 —Å—Ç–∞—Ç—å–∏ 437 –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –∫–æ–¥–µ–∫—Å–∞ –†–§.</p>
            </div>

            <div className="space-y-3">
              <p><strong>–¢–µ—Ä–º–∏–Ω—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:</strong></p>
              <p>–î–æ–≥–æ–≤–æ—Ä ‚Äì —Ç–µ–∫—Å—Ç –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã —Å –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏, —è–≤–ª—è—é—â–∏–º–∏—Å—è –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–æ–π —á–∞—Å—Ç—å—é –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã, –∞–∫—Ü–µ–ø—Ç–æ–≤–∞–Ω–Ω—ã–π –ó–∞–∫–∞–∑—á–∏–∫–æ–º –ø—É—Ç–µ–º —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–Ω–∫–ª—é–¥–µ–Ω—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç–æ–π.</p>
              <p>–ö–æ–Ω–∫–ª—é–¥–µ–Ω—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã—Ä–∞–∂–∞–µ—Ç —Å–æ–≥–ª–∞—Å–∏–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ –∑–∞–∫–ª—é—á–∏—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —Ä–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç—å –¥–æ–≥–æ–≤–æ—Ä.</p>
              <p>–°–∞–π—Ç –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤ —Å–µ—Ç–∏ ¬´–ò–Ω—Ç–µ—Ä–Ω–µ—Ç¬ª ‚Äì —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω –∏ –∏–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –¥–æ—Å—Ç—É–ø –∫ –∫–æ—Ç–æ—Ä–æ–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Å–µ—Ç–∏ ¬´–ò–Ω—Ç–µ—Ä–Ω–µ—Ç¬ª –ø–æ –∞–¥—Ä–µ—Å—É: http://pfvmusic.digital</p>
              <p>–£—Å–ª—É–≥–∞ ‚Äì —É—Å–ª—É–≥–∞, –æ–∫–∞–∑—ã–≤–∞–µ–º–∞—è –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –ó–∞–∫–∞–∑—á–∏–∫—É –≤ –ø–æ—Ä—è–¥–∫–µ –∏ –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ö, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç–æ–π.</p>
            </div>

            <div className="space-y-3">
              <p><strong>2. –ü—Ä–µ–¥–º–µ—Ç –î–æ–≥–æ–≤–æ—Ä–∞</strong></p>
              <p>2.1. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ–±—è–∑—É–µ—Ç—Å—è –æ–∫–∞–∑–∞—Ç—å –ó–∞–∫–∞–∑—á–∏–∫—É –£—Å–ª—É–≥–∏, –∞ –ó–∞–∫–∞–∑—á–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è –æ–ø–ª–∞—Ç–∏—Ç—å –∏—Ö –≤ —Ä–∞–∑–º–µ—Ä–µ, –ø–æ—Ä—è–¥–∫–µ –∏ —Å—Ä–æ–∫–∏, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç–æ—è—â–∏–º –î–æ–≥–æ–≤–æ—Ä–æ–º.</p>
              <p>2.2. –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –ø–æ—Ä—è–¥–æ–∫ –∏ –∏–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –æ–∫–∞–∑–∞–Ω–∏—è –£—Å–ª—É–≥ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —Å–≤–µ–¥–µ–Ω–∏–π –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏ –ó–∞–∫–∞–∑—á–∏–∫–æ–º, –ª–∏–±–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.</p>
              <p>2.3. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ–∫–∞–∑—ã–≤–∞–µ—Ç –£—Å–ª—É–≥–∏ –ø–æ –Ω–∞—Å—Ç–æ—è—â–µ–º—É –î–æ–≥–æ–≤–æ—Ä—É –ª–∏—á–Ω–æ, –ª–∏–±–æ —Å –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ–º —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü, –ø—Ä–∏ —ç—Ç–æ–º –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –ø–µ—Ä–µ–¥ –ó–∞–∫–∞–∑—á–∏–∫–æ–º –∫–∞–∫ –∑–∞ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ.</p>
              <p>2.4. –î–æ–≥–æ–≤–æ—Ä –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –∞–∫—Ü–µ–ø—Ç–∞ –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã —á–µ—Ä–µ–∑ —Å–æ–≤–µ—Ä—à–µ–Ω–∏–µ –∫–æ–Ω–∫–ª—é–¥–µ–Ω—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã—Ö –≤: –¥–µ–π—Å—Ç–≤–∏—è—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏; –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ó–∞–∫–∞–∑—á–∏–∫–æ–º –∑–∞—è–≤–∫–∏; –¥–µ–π—Å—Ç–≤–∏—è—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –æ–ø–ª–∞—Ç–æ–π –£—Å–ª—É–≥; –¥–µ–π—Å—Ç–≤–∏—è—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –æ–∫–∞–∑–∞–Ω–∏–µ–º –£—Å–ª—É–≥ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º.</p>
            </div>

            <div className="space-y-3">
              <p><strong>3. –ü—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –°—Ç–æ—Ä–æ–Ω</strong></p>
              <p><strong>3.1. –ü—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:</strong></p>
              <p>3.1.1. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ–±—è–∑—É–µ—Ç—Å—è –æ–∫–∞–∑–∞—Ç—å –£—Å–ª—É–≥–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª–æ–∂–µ–Ω–∏—è–º–∏ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞, –≤ —Å—Ä–æ–∫–∏ –∏ –æ–±—ä–µ–º–µ, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º –î–æ–≥–æ–≤–æ—Ä–µ –∏ –≤ –ø–æ—Ä—è–¥–∫–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–º –Ω–∞ –°–∞–π—Ç–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.</p>
              <p>3.1.2. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ–±—è–∑—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ó–∞–∫–∞–∑—á–∏–∫—É –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–¥–µ–ª–∞–º –°–∞–π—Ç–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—É–Ω–∫—Ç—É 2.1. –î–æ–≥–æ–≤–æ—Ä–∞.</p>
              <p>3.1.3. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ó–∞–∫–∞–∑—á–∏–∫–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–∫–∞–∑–∞–Ω–∏—è –£—Å–ª—É–≥ –ó–∞–∫–∞–∑—á–∏–∫—É.</p>
              <p>3.1.4. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω—è—Ç—å —Å—Ä–æ–∫–∏ –æ–∫–∞–∑–∞–Ω–∏—è –£—Å–ª—É–≥ –∏ —É—Å–ª–æ–≤–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã –≤ –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–º –ø–æ—Ä—è–¥–∫–µ –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ó–∞–∫–∞–∑—á–∏–∫–∞, –ø—É–±–ª–∏–∫—É—è —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –°–∞–π—Ç–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.</p>
              <p><strong>3.2. –ü—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ó–∞–∫–∞–∑—á–∏–∫–∞:</strong></p>
              <p>3.2.1. –ó–∞–∫–∞–∑—á–∏–∫ –æ–±—è–∑–∞–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –£—Å–ª—É–≥.</p>
              <p>3.2.2. –ó–∞–∫–∞–∑—á–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å, –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ –ø—Ä–æ–¥–∞–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Å—Ç–∞–≤—à–∏–µ –µ–º—É –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≤ —Å–≤—è–∑–∏ —Å –æ–∫–∞–∑–∞–Ω–∏–µ–º –£—Å–ª—É–≥, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å–∞–º–∏–º –ó–∞–∫–∞–∑—á–∏–∫–æ–º.</p>
              <p>3.2.3. –ó–∞–∫–∞–∑—á–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è –ø—Ä–∏–Ω—è—Ç—å –£—Å–ª—É–≥–∏, –æ–∫–∞–∑–∞–Ω–Ω—ã–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º.</p>
              <p>3.2.4. –ó–∞–∫–∞–∑—á–∏–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ —É—Å–ª–æ–≤–∏—è –î–æ–≥–æ–≤–æ—Ä–∞ –µ–º—É –ø–æ–Ω—è—Ç–Ω—ã –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ö –±–µ–∑ –æ–≥–æ–≤–æ—Ä–æ–∫ –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ.</p>
            </div>

            <div className="space-y-3">
              <p><strong>4. –¶–µ–Ω–∞ –∏ –ø–æ—Ä—è–¥–æ–∫ —Ä–∞—Å—á–µ—Ç–æ–≤</strong></p>
              <p>4.1. –°—Ç–æ–∏–º–æ—Å—Ç—å —É—Å–ª—É–≥ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è, –æ–∫–∞–∑—ã–≤–∞–µ–º—ã—Ö –ó–∞–∫–∞–∑—á–∏–∫–æ–º –∏ –ø–æ—Ä—è–¥–æ–∫ –∏—Ö –æ–ø–ª–∞—Ç—ã, –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —Å–≤–µ–¥–µ–Ω–∏–π –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏ –ó–∞–∫–∞–∑—á–∏–∫–æ–º –ª–∏–±–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –Ω–∞ –°–∞–π—Ç–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤ —Å–µ—Ç–∏ ¬´–ò–Ω—Ç–µ—Ä–Ω–µ—Ç¬ª: http://pfvmusic.digital</p>
              <p>–í—Å–µ —Ä–∞—Å—á–µ—Ç—ã –ø–æ –î–æ–≥–æ–≤–æ—Ä—É –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –≤ –±–µ–∑–Ω–∞–ª–∏—á–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.</p>
            </div>

            <div className="space-y-3">
              <p><strong>5. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong></p>
              <p>5.1. –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞ –°—Ç–æ—Ä–æ–Ω—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –§–ó –æ—Ç 27.07.2006 –≥. ‚Ññ 152-–§–ó ¬´–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö¬ª –∏ –§–ó –æ—Ç 27.07.2006 –≥. ‚Ññ 149-–§–ó ¬´–û–± –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö –∏ –æ –∑–∞—â–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏¬ª.</p>
              <p>5.2. –°—Ç–æ—Ä–æ–Ω—ã –æ–±—è–∑—É—é—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –≤ —Ö–æ–¥–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞, –∏ –ø—Ä–∏–Ω—è—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –º–µ—Ä—ã, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ—Ç —Ä–∞–∑–≥–ª–∞—à–µ–Ω–∏—è.</p>
              <p>5.3. –ü–æ–¥ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è –ª—é–±–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∏ –ó–∞–∫–∞–∑—á–∏–∫–æ–º –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –î–æ–≥–æ–≤–æ—Ä–∞ –∏ –ø–æ–¥–ª–µ–∂–∞—â–∞—è –∑–∞—â–∏—Ç–µ.</p>
              <p>5.4. –¢–∞–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –∞–∫—Ç–∞—Ö, –¥–æ–≥–æ–≤–æ—Ä–∞—Ö, –ø–∏—Å—å–º–∞—Ö, –æ—Ç—á–µ—Ç–∞—Ö, –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π, —Å—Ö–µ–º–∞—Ö, –≥—Ä–∞—Ñ–∏–∫–∞—Ö, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è—Ö –∏ –¥—Ä—É–≥–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã—Ö –∫–∞–∫ –Ω–∞ –±—É–º–∞–∂–Ω—ã—Ö, —Ç–∞–∫ –∏ –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –Ω–æ—Å–∏—Ç–µ–ª—è—Ö.</p>
            </div>

            <div className="space-y-3">
              <p><strong>6. –§–æ—Ä—Å-–º–∞–∂–æ—Ä</strong></p>
              <p>6.1. –°—Ç–æ—Ä–æ–Ω—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–ª–∏ –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –ø–æ –î–æ–≥–æ–≤–æ—Ä—É, –µ—Å–ª–∏ –Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–∫–∞–∑–∞–ª–æ—Å—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –≤—Å–ª–µ–¥—Å—Ç–≤–∏–µ –Ω–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–π —Å–∏–ª—ã, —Ç–æ –µ—Å—Ç—å —á—Ä–µ–∑–≤—ã—á–∞–π–Ω—ã—Ö –∏ –Ω–µ–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–º—ã—Ö –ø—Ä–∏ –¥–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤.</p>
              <p>6.2. –í —Å–ª—É—á–∞–µ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è —ç—Ç–∏—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤ –°—Ç–æ—Ä–æ–Ω–∞ –æ–±—è–∑–∞–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 (–¢—Ä–∏–¥—Ü–∞—Ç–∏) —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —É–≤–µ–¥–æ–º–∏—Ç—å –æ–± —ç—Ç–æ–º –¥—Ä—É–≥—É—é –°—Ç–æ—Ä–æ–Ω—É.</p>
              <p>6.3. –î–æ–∫—É–º–µ–Ω—Ç, –≤—ã–¥–∞–Ω–Ω—ã–π —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–º –æ—Ä–≥–∞–Ω–æ–º, —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –Ω–∞–ª–∏—á–∏—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–π —Å–∏–ª—ã.</p>
              <p>6.4. –ï—Å–ª–∏ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–π —Å–∏–ª—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –±–æ–ª–µ–µ 60 (–®–µ—Å—Ç–∏–¥–µ—Å—è—Ç–∏) —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π, —Ç–æ –∫–∞–∂–¥–∞—è –°—Ç–æ—Ä–æ–Ω–∞ –≤–ø—Ä–∞–≤–µ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞ –≤ –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–º –ø–æ—Ä—è–¥–∫–µ.</p>
            </div>

            <div className="space-y-3">
              <p><strong>7. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –°—Ç–æ—Ä–æ–Ω</strong></p>
              <p>7.1. –í —Å–ª—É—á–∞–µ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∏/–∏–ª–∏ –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–µ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–≤–æ–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –ø–æ –î–æ–≥–æ–≤–æ—Ä—É, –°—Ç–æ—Ä–æ–Ω—ã –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏ –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã.</p>
              <p>7.2. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∏/–∏–ª–∏ –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –ø–æ –î–æ–≥–æ–≤–æ—Ä—É, –µ—Å–ª–∏ —Ç–∞–∫–æ–µ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –ø–æ –≤–∏–Ω–µ –ó–∞–∫–∞–∑—á–∏–∫–∞.</p>
              <p>7.3. –°—Ç–æ—Ä–æ–Ω–∞, –Ω–µ –∏—Å–ø–æ–ª–Ω–∏–≤—à–∞—è –∏–ª–∏ –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–∏–º –æ–±—Ä–∞–∑–æ–º –∏—Å–ø–æ–ª–Ω–∏–≤—à–∞—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –î–æ–≥–æ–≤–æ—Ä—É, –æ–±—è–∑–∞–Ω–∞ –≤–æ–∑–º–µ—Å—Ç–∏—Ç—å –¥—Ä—É–≥–æ–π –°—Ç–æ—Ä–æ–Ω–µ –ø—Ä–∏—á–∏–Ω–µ–Ω–Ω—ã–µ —Ç–∞–∫–∏–º–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏ —É–±—ã—Ç–∫–∏.</p>
            </div>

            <div className="space-y-3">
              <p><strong>8. –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã</strong></p>
              <p>8.1. –û—Ñ–µ—Ä—Ç–∞ –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É —Å –º–æ–º–µ–Ω—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ –°–∞–π—Ç–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ –º–æ–º–µ–Ω—Ç–∞ –µ—ë –æ—Ç–∑—ã–≤–∞ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º.</p>
              <p>8.2. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —É—Å–ª–æ–≤–∏—è –û—Ñ–µ—Ä—Ç—ã –∏/–∏–ª–∏ –æ—Ç–æ–∑–≤–∞—Ç—å –û—Ñ–µ—Ä—Ç—É –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é. –°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–ª–∏ –æ—Ç–∑—ã–≤–µ –û—Ñ–µ—Ä—Ç—ã –¥–æ–≤–æ–¥—è—Ç—Å—è –¥–æ –ó–∞–∫–∞–∑—á–∏–∫–∞ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ, –≤ –õ–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ó–∞–∫–∞–∑—á–∏–∫–∞, –ª–∏–±–æ –ø—É—Ç–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∏–ª–∏ –ø–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å.</p>
              <p>8.3. –î–æ–≥–æ–≤–æ—Ä –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É —Å –º–æ–º–µ–Ω—Ç–∞ –ê–∫—Ü–µ–ø—Ç–∞ —É—Å–ª–æ–≤–∏–π –û—Ñ–µ—Ä—Ç—ã –ó–∞–∫–∞–∑—á–∏–∫–æ–º –∏ –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –°—Ç–æ—Ä–æ–Ω–∞–º–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –ø–æ –î–æ–≥–æ–≤–æ—Ä—É.</p>
              <p>8.4. –ò–∑–º–µ–Ω–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –≤ –î–æ–≥–æ–≤–æ—Ä –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Å–∞–π—Ç–µ –≤ —Ñ–æ—Ä–º–µ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –û—Ñ–µ—Ä—Ç—ã, —Å—á–∏—Ç–∞—é—Ç—Å—è –ø—Ä–∏–Ω—è—Ç—ã–º–∏ –ó–∞–∫–∞–∑—á–∏–∫–æ–º –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ.</p>
            </div>

            <div className="space-y-3">
              <p><strong>9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</strong></p>
              <p>9.1. –î–æ–≥–æ–≤–æ—Ä, –µ–≥–æ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤—É—é—â–∏–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏. –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã, –Ω–µ —É—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç–æ–π, —Ä–µ–≥—É–ª–∏—Ä—É—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–º –ø—Ä–∞–≤–æ–º –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏.</p>
              <p>9.2. –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Å–ø–æ—Ä–∞ –º–µ–∂–¥—É –°—Ç–æ—Ä–æ–Ω–∞–º–∏ –≤ —Ö–æ–¥–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∏–º–∏ —Å–≤–æ–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –ø–æ –î–æ–≥–æ–≤–æ—Ä—É, –°—Ç–æ—Ä–æ–Ω—ã –æ–±—è–∑–∞–Ω—ã —É—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ø–æ—Ä –º–∏—Ä–Ω—ã–º –ø—É—Ç–µ–º –¥–æ –Ω–∞—á–∞–ª–∞ —Å—É–¥–µ–±–Ω–æ–≥–æ —Ä–∞–∑–±–∏—Ä–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –î–æ—Å—É–¥–µ–±–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —É—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–æ—Ä–∞ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.</p>
              <p>9.3. –í –∫–∞—á–µ—Å—Ç–≤–µ —è–∑—ã–∫–∞ –î–æ–≥–æ–≤–æ—Ä–∞ –°—Ç–æ—Ä–æ–Ω—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.</p>
              <p>9.4. –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ–¥–ª–µ–∂–∞—â–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—é –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏ –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –ª–∏–±–æ –∏–º–µ—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫, —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.</p>
              <p>9.5. –ë–µ–∑–¥–µ–π—Å—Ç–≤–∏–µ –æ–¥–Ω–æ–π –∏–∑ –°—Ç–æ—Ä–æ–Ω –≤ —Å–ª—É—á–∞–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è —É—Å–ª–æ–≤–∏–π –Ω–∞—Å—Ç–æ—è—â–µ–π –û—Ñ–µ—Ä—Ç—ã –Ω–µ –ª–∏—à–∞–µ—Ç –ø—Ä–∞–≤–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–π –°—Ç–æ—Ä–æ–Ω—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –∑–∞—â–∏—Ç—É —Å–≤–æ–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –ø–æ–∑–¥–Ω–µ–µ.</p>
              <p>9.6. –ï—Å–ª–∏ –Ω–∞ –°–∞–π—Ç–µ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –µ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –≤–µ–±-—Å–∞–π—Ç—ã –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü, —Ç–∞–∫–∏–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —Ü–µ–ª—è—Ö –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ª—é–±—ã–µ —É–±—ã—Ç–∫–∏ –∏–ª–∏ —É—â–µ—Ä–±, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∞–∫–∏—Ö —Å—Å—ã–ª–æ–∫.</p>
            </div>

            <div className="space-y-3">
              <p><strong>10. –†–µ–∫–≤–∏–∑–∏—Ç—ã –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</strong></p>
              <p><strong>–ü–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:</strong> –û—Ä–µ—Ö–æ–≤ –î–∞–Ω–∏–ª–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á</p>
              <p><strong>–ò–ù–ù:</strong> 711613056345</p>
              <p><strong>–û–ì–†–ù–ò–ü:</strong> 324710000080681</p>
              <p><strong>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π e-mail:</strong> booking@pfvmusic.ru</p>
            </div>
          </div>

          <div className="px-8 py-6 border-t border-gray-200 flex justify-end gap-3 bg-gray-50 rounded-b-3xl">
            <button
              type="button"
              onClick={() => setShowOfferModal(false)}
              className="px-6 py-2.5 rounded-lg bg-purple-600 text-white font-semibold hover:bg-purple-700 transition-colors"
            >
              –ó–∞–∫—Ä—ã—Ç—å
            </button>
          </div>
        </div>
      </div>
    );
  };

  // ‚ïê‚ïê‚ïê HOME PAGE ‚ïê‚ïê‚ïê
  if (mode === 'home') {
    return (
      <div className="min-h-screen bg-gradient-to-br from-purple-50 via-white to-purple-50/30">
        <Header />
        
        <div className="mx-auto max-w-4xl px-4 py-16">
          {/* Hero */}
          <div className="text-center mb-12">
            <div className="inline-flex items-center gap-2 rounded-full bg-purple-100/80 px-4 py-1.5 text-xs font-semibold text-purple-700 mb-5 backdrop-blur-sm border border-purple-200/50">
              <Sparkles className="w-3.5 h-3.5" />
              –ú—É–∑—ã–∫–∞–ª—å–Ω–æ–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ PFVMUSIC
            </div>
            <h1 className="text-3xl md:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight">
              –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤{' '}
              <span className="bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent">
                PFVMUSIC
              </span>
            </h1>
            <p className="text-base md:text-lg text-gray-500 max-w-xl mx-auto leading-relaxed">
              –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞—à–∏–º —Ä–µ–ª–∏–∑–æ–º
            </p>
          </div>
          
          {/* Service Cards */}
          <div className="grid md:grid-cols-2 gap-6">
            {/* Distribution Card */}
            <button
              type="button"
              onClick={() => navigateTo('distribution')}
              className="group relative overflow-hidden rounded-3xl border-2 border-purple-100 bg-white p-8 text-left shadow-xl shadow-purple-100/20 hover:border-purple-300 hover:shadow-2xl hover:shadow-purple-200/30 transition-all duration-300 hover:-translate-y-1"
            >
              <div className="absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-purple-100 to-transparent rounded-bl-full opacity-50 group-hover:opacity-100 transition-opacity" />
              
              <div className="relative">
                <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center mb-6 shadow-lg shadow-purple-200/50 group-hover:scale-110 transition-transform">
                  <Disc3 className="w-8 h-8 text-white" />
                </div>
                
                <h2 className="text-2xl font-bold text-gray-900 mb-3">
                  –î–∏—Å—Ç—Ä–∏–±—É—Ü–∏—è
                </h2>
                <p className="text-gray-500 mb-6 leading-relaxed">
                  –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∞—à —Ç—Ä–µ–∫ –Ω–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—é –Ω–∞ –≤—Å–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ –º–∏—Ä–∞
                </p>
                
                <div className="flex flex-wrap gap-2 mb-6">
                  <span className="rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-600">Spotify</span>
                  <span className="rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-600">Apple Music</span>
                  <span className="rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-600">VK Music</span>
                  <span className="rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-600">–Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∞</span>
                </div>
                
                <div className="flex items-center gap-2 text-purple-600 font-semibold group-hover:gap-3 transition-all">
                  –ù–∞—á–∞—Ç—å
                  <ChevronRight className="w-5 h-5" />
                </div>
              </div>
            </button>
            
            {/* Promo Card */}
            <button
              type="button"
              onClick={() => navigateTo('promo')}
              className="group relative overflow-hidden rounded-3xl border-2 border-amber-100 bg-white p-8 text-left shadow-xl shadow-amber-100/20 hover:border-amber-300 hover:shadow-2xl hover:shadow-amber-200/30 transition-all duration-300 hover:-translate-y-1"
            >
              <div className="absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-amber-100 to-transparent rounded-bl-full opacity-50 group-hover:opacity-100 transition-opacity" />
              
              <div className="relative">
                <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center mb-6 shadow-lg shadow-amber-200/50 group-hover:scale-110 transition-transform">
                  <Megaphone className="w-8 h-8 text-white" />
                </div>
                
                <h2 className="text-2xl font-bold text-gray-900 mb-3">
                  –ü—Ä–æ–º–æ
                </h2>
                <p className="text-gray-500 mb-6 leading-relaxed">
                  –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–ª–∏–∑–µ –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö
                </p>
                
                <div className="flex flex-wrap gap-2 mb-6">
                  <span className="rounded-full bg-amber-50 px-3 py-1 text-xs font-medium text-amber-600">–î–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–æ–º–æ</span>
                  <span className="rounded-full bg-amber-50 px-3 py-1 text-xs font-medium text-amber-600">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –ø—Ä–æ–º–æ</span>
                </div>
                
                <div className="flex items-center gap-2 text-amber-600 font-semibold group-hover:gap-3 transition-all">
                  –ù–∞—á–∞—Ç—å
                  <ChevronRight className="w-5 h-5" />
                </div>
              </div>
            </button>
          </div>
          
          {/* Tariffs Section */}
          <section id="tariffs-section" className="mt-10 rounded-3xl border border-purple-200/50 bg-gradient-to-br from-purple-50/80 via-white to-blue-50/50 p-6 md:p-8 shadow-lg shadow-purple-100/40">
            {/* Header */}
            <div className="mb-8 flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
              <div className="flex-1">
                <h3 className="text-2xl md:text-3xl font-bold text-gray-900 mb-2">–†–∞–∑–¥–µ–ª —Ç–∞—Ä–∏—Ñ–æ–≤</h3>
                <p className="text-base text-gray-600 leading-relaxed">
                  –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ–ª–∏–∑–∞. –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ä–æ–∫–∞—Ö, —Ü–µ–Ω–∞—Ö –∏ –≤—ã–ø–ª–∞—Ç–∞—Ö.
                </p>
              </div>
              <a
                href="https://clck.ru/3E6yBX"
                target="_blank"
                rel="noopener noreferrer"
                className="inline-flex items-center gap-2 rounded-full border-2 border-purple-500 bg-white px-4 py-2 text-sm font-semibold text-purple-600 hover:bg-purple-50 transition-colors whitespace-nowrap"
              >
                –ü–æ–ª–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã
                <ExternalLink className="w-4 h-4" />
              </a>
            </div>

            {/* Info Pills */}
            <div className="mb-6 grid gap-3 md:grid-cols-3">
              <div className="h-11 rounded-full border border-purple-200 bg-purple-100/40 px-5 py-3 text-sm font-semibold text-purple-700 text-center inline-flex items-center justify-center gap-2">
                <span>‚ö°</span>
                <span>–û—Ç–≥—Ä—É–∑–∫–∞: 7 / 4 / 2 / 1 –¥–Ω—è</span>
              </div>
              <div className="h-11 rounded-full border border-emerald-300 bg-emerald-500 px-5 py-3 text-sm font-semibold text-white text-center inline-flex items-center justify-center gap-2 shadow-md shadow-emerald-200">
                <span>‚≠ê</span>
                <span>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º: –ü—Ä–µ–º–∏—É–º</span>
              </div>
              <div className="h-11 rounded-full border border-blue-200 bg-blue-100/40 px-5 py-3 text-sm font-semibold text-blue-700 text-center inline-flex items-center justify-center gap-2">
                <span>üéµ</span>
                <span>–ü–ª–æ—â–∞–¥–∫–∏: 40+ —Å–µ—Ä–≤–∏—Å–æ–≤</span>
              </div>
            </div>

            {/* General Conditions */}
            <div className="rounded-2xl border border-purple-300 bg-purple-50/80 p-8 mb-8">
              <p className="text-base font-bold text-gray-900 mb-6 flex items-center gap-3">
                <span className="inline-flex items-center justify-center w-7 h-7 rounded-full bg-emerald-400 text-white font-bold text-sm">‚úì</span>
                –û–±—â–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –≤—Å–µ—Ö —Ç–∞—Ä–∏—Ñ–æ–≤
              </p>
              <div className="grid gap-4 text-sm text-gray-700 md:grid-cols-2">
                <div className="flex gap-3">
                  <span className="flex-shrink-0 text-purple-600 font-bold mt-0.5 text-lg">‚Üí</span>
                  <p>
                    –ì–∞–π–¥ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ:{' '}
                    <a
                      href="https://vk.com/@pfvmusic-kak-podgotovit-reliz-k-distr"
                      target="_blank"
                      rel="noopener noreferrer"
                      className="font-semibold text-purple-600 hover:text-purple-700 underline underline-offset-2"
                    >
                      —Å—Å—ã–ª–∫–∞
                    </a>
                  </p>
                </div>
                <div className="flex gap-3">
                  <span className="flex-shrink-0 text-purple-600 font-bold mt-0.5 text-lg">‚Üí</span>
                  <p>–ü–ª–æ—â–∞–¥–∫–∏: Apple Music, VK, Spotify, TikTok, –Ø–Ω–¥–µ–∫—Å –∏ –¥—Ä.</p>
                </div>
                <div className="flex gap-3">
                  <span className="flex-shrink-0 text-purple-600 font-bold mt-0.5 text-lg">‚Üí</span>
                  <p>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤</p>
                </div>
                <div className="flex gap-3">
                  <span className="flex-shrink-0 text-purple-600 font-bold mt-0.5 text-lg">‚Üí</span>
                  <p>–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ + –µ–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã</p>
                </div>
              </div>
            </div>

            {/* Tariff Cards Grid - 2 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–≤–µ—Ä—Ö—É, 2 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–Ω–∏–∑—É */}
            <div className="grid items-start gap-5 md:grid-cols-2">
              {TARIFFS.map((tariff) => (
                <div
                  key={tariff.name}
                  className={cn(
                    'rounded-2xl border-2 p-6 bg-white transition-all duration-300 hover:shadow-lg hover:-translate-y-1',
                    tariff.cardClass
                  )}
                >
                  {/* Icon - smaller */}
                  <div className={cn(
                    'w-16 h-16 rounded-2xl flex items-center justify-center mb-5 shadow-lg text-3xl font-bold',
                    `bg-gradient-to-br ${tariff.accentColor}`
                  )}>
                    {tariff.emoji}
                  </div>

                  {/* Badge */}
                  {tariff.badge && (
                    <div className={cn(
                      'mb-3 inline-block rounded-full px-3 py-1 text-xs font-bold capitalize',
                      tariff.recommended 
                        ? 'bg-emerald-100 text-emerald-700' 
                        : tariff.name === '–ü–ª–∞—Ç–∏–Ω—É–º'
                        ? 'bg-amber-100 text-amber-700'
                        : tariff.name === '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π'
                        ? 'bg-sky-100 text-sky-700'
                        : 'bg-gray-100 text-gray-700'
                    )}>
                      {tariff.badge}
                    </div>
                  )}

                  {/* Title & Subtitle */}
                  <div className="mb-4">
                    <h4 className={cn('text-xl font-bold', tariff.titleClass)}>
                      {tariff.name}
                    </h4>
                    <p className={cn('text-xs mt-1.5', tariff.titleClass, 'opacity-75')}>
                      {tariff.subtitle}
                    </p>
                  </div>

                  {/* Key Metrics - Highlighted */}
                  <div className="rounded-xl bg-gradient-to-r from-gray-50 to-white p-4 mb-5 border border-gray-100 shadow-sm">
                    <div className="space-y-2.5">
                      <div>
                        <p className="text-xs text-gray-600 font-semibold uppercase tracking-wide mb-1">–î–æ–ª—è –∞—Ä—Ç–∏—Å—Ç–∞</p>
                        <p className={cn('text-xl font-bold', tariff.titleClass)}>
                          {tariff.monetization[0].match(/\d+%/)}
                        </p>
                      </div>
                      <div className="pt-2.5 border-t border-gray-200">
                        <p className="text-xs text-gray-600 font-semibold uppercase tracking-wide mb-1">–°—Ä–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏</p>
                        <p className="text-sm font-semibold text-gray-900">{tariff.turnaround}</p>
                      </div>
                    </div>
                  </div>

                  {/* Main Pricing - Single, EP, Album */}
                  <div className="mb-5 pb-5 border-b-2 border-gray-100">
                    <p className="text-xs text-gray-600 font-semibold uppercase tracking-wide mb-3">–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–Ω—ã</p>
                    <div className="space-y-2">
                      {tariff.prices.slice(0, 3).map((price, idx) => {
                        const [rawLabel, ...rawValueParts] = price.split(':');
                        const label = (rawLabel || '').trim();
                        const fullValue = rawValueParts.join(':').trim();
                        const shortValue = idx === 2 ? fullValue.split('(')[0].trim() : fullValue;
                        return (
                        <div key={price} className="grid grid-cols-[1fr_auto] items-center gap-3">
                          <span className={cn(
                            'font-medium',
                            idx === 0 ? 'text-sm text-gray-800' : 'text-xs text-gray-700'
                          )}>
                            {label}
                          </span>
                          <span className={cn(
                            'font-bold text-right',
                            idx === 0 
                              ? cn('text-lg', tariff.titleClass)
                              : 'text-sm text-gray-900'
                          )}>
                            {shortValue}
                          </span>
                        </div>
                      )})}
                    </div>
                  </div>

                  {/* CTA Button */}
                  <div className="mb-4">
                    <button 
                      onClick={() => navigateTo('distribution')}
                      className={cn(
                        'w-full h-12 px-4 rounded-xl font-bold text-sm transition-all duration-300 flex items-center justify-center gap-2',
                        tariff.name === '–ë–∞–∑–æ–≤—ã–π'
                          ? 'border-2 border-purple-500 text-purple-600 bg-white hover:bg-purple-50'
                          : tariff.name === '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π'
                          ? 'border-2 border-sky-400 text-sky-600 bg-white hover:bg-sky-50'
                          : tariff.name === '–ü—Ä–µ–º–∏—É–º'
                          ? 'bg-gradient-to-r from-emerald-500 to-teal-600 text-white hover:shadow-lg hover:shadow-emerald-300'
                          : 'bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:shadow-lg hover:shadow-amber-300'
                      )}>
                      –ù–∞—á–∞—Ç—å
                      <ChevronRight className="w-4 h-4" />
                    </button>
                  </div>

                  {/* Expandable Details - Custom implementation */}
                  <button
                    onClick={() => setExpandedTariff(expandedTariff === tariff.name ? null : tariff.name)}
                    className={cn(
                      'w-full cursor-pointer text-xs font-bold flex items-center justify-between py-2 transition-colors list-none uppercase tracking-wide',
                      tariff.name === '–ë–∞–∑–æ–≤—ã–π'
                        ? 'text-purple-600 hover:text-purple-700'
                        : tariff.name === '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π'
                        ? 'text-sky-600 hover:text-sky-700'
                        : tariff.name === '–ü—Ä–µ–º–∏—É–º'
                        ? 'text-emerald-600 hover:text-emerald-700'
                        : 'text-amber-600 hover:text-amber-700',
                      'background-none border-none p-0 h-auto'
                    )}>
                    <span>–í—Å–µ —Ü–µ–Ω—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ‚Üí</span>
                    <span className={cn(
                      'transition-transform duration-300 text-lg',
                      expandedTariff === tariff.name && 'rotate-180'
                    )}>‚ñº</span>
                  </button>
                  
                  {/* Expandable Content */}
                  {expandedTariff === tariff.name && (
                    <div className="mt-4 space-y-4 text-sm border-t border-gray-200 pt-4 overflow-hidden">
                      <div>
                        <p className="font-bold text-gray-900 mb-2.5 uppercase tracking-wide text-xs">–í—Å–µ —Ü–µ–Ω—ã</p>
                        <div className="space-y-1.5">
                          {tariff.prices.map((price) => (
                            <p key={price} className="text-gray-700 flex gap-2 items-start text-xs break-words">
                              <span className="text-purple-400 mt-0.5 flex-shrink-0 font-bold">‚Ä¢</span>
                              <span>{price}</span>
                            </p>
                          ))}
                        </div>
                      </div>
                      <div>
                        <p className="font-bold text-gray-900 mb-2.5 uppercase tracking-wide text-xs">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <div className="grid grid-cols-1 gap-2">
                          {tariff.features.map((feature) => (
                            <p key={feature} className="text-gray-700 flex gap-2 items-start text-xs break-words">
                              <span className="text-emerald-500 mt-0.5 flex-shrink-0 font-bold">‚úì</span>
                              <span>{feature}</span>
                            </p>
                          ))}
                        </div>
                      </div>
                      <div className="bg-gray-100 p-3 rounded-lg border border-gray-200">
                        <p className="text-xs text-gray-700 font-semibold mb-1.5 uppercase tracking-wide">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞</p>
                        <p className="font-bold text-gray-900 text-xs">{tariff.monetization[1]}</p>
                      </div>
                    </div>
                  )}
                </div>
              ))}
            </div>
          </section>

          {/* Payment Compliance Info */}
          <section className="mt-8 rounded-3xl border border-gray-200 bg-white p-5 md:p-6 shadow-sm">
            <h3 className="text-xl font-bold text-gray-900 mb-2">
              –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø—Ä–∏—ë–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π
            </h3>
            <p className="text-xs text-gray-600 mb-4">
              –†–∞–∑–¥–µ–ª —Ä–∞–∑–º–µ—â—ë–Ω –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
            </p>

            <div className="grid gap-3 md:grid-cols-2">
              <div className="rounded-2xl border border-purple-200 bg-purple-50/60 p-4">
                <div className="flex items-center gap-2 mb-2.5">
                  <Wallet className="w-5 h-5 text-purple-600" />
                  <p className="text-sm font-semibold text-purple-900">–£—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã</p>
                </div>
                <p className="text-xs text-purple-900/80 leading-relaxed">
                  –î–∏—Å—Ç—Ä–∏–±—É—Ü–∏—è –º—É–∑—ã–∫–∏ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ (Spotify, Apple Music, VK –ú—É–∑—ã–∫–∞, –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∞ –∏ –¥—Ä—É–≥–∏–µ).
                  –¢–∞—Ä–∏—Ñ—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é: ¬´–ë–∞–∑–æ–≤—ã–π¬ª, ¬´–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π¬ª, ¬´–ü—Ä–µ–º–∏—É–º¬ª, ¬´–ü–ª–∞—Ç–∏–Ω—É–º¬ª.
                  –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ —Ä–µ–ª–∏–∑–∞ (—Å–∏–Ω–≥–ª / EP / –∞–ª—å–±–æ–º) –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.
                </p>
              </div>

              <div className="rounded-2xl border border-sky-200 bg-sky-50/60 p-4">
                <div className="flex items-center gap-2 mb-2.5">
                  <Clipboard className="w-5 h-5 text-sky-600" />
                  <p className="text-sm font-semibold text-sky-900">–ü–æ–ª—É—á–µ–Ω–∏–µ —É—Å–ª—É–≥–∏</p>
                </div>
                <p className="text-xs text-sky-900/80 leading-relaxed">
                  –£—Å–ª—É–≥–∏ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
                  –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏/–ø—Ä–æ–º–æ.
                </p>
              </div>

              <div className="rounded-2xl border border-amber-200 bg-amber-50/70 p-4">
                <div className="flex items-center gap-2 mb-2.5">
                  <FileCheck className="w-5 h-5 text-amber-600" />
                  <p className="text-sm font-semibold text-amber-900">–û—Ñ–µ—Ä—Ç–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</p>
                </div>
                <p className="text-xs text-amber-900/80 leading-relaxed mb-3">
                  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –∏ –æ–∫–∞–∑–∞–Ω–∏–µ —É—Å–ª—É–≥ —Ä–µ–≥—É–ª–∏—Ä—É—é—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç–æ–π.
                </p>
                <button
                  type="button"
                  onClick={() => setShowOfferModal(true)}
                  className="inline-flex items-center gap-2 px-3 py-2 border-2 border-amber-600 text-amber-600 font-semibold text-xs rounded-lg hover:bg-amber-600 hover:text-white transition-all bg-white"
                >
                  –û—Ç–∫—Ä—ã—Ç—å –æ—Ñ–µ—Ä—Ç—É
                  <FileCheck className="w-3.5 h-3.5" />
                </button>
              </div>

              <div className="rounded-2xl border border-gray-300 bg-gray-50/80 p-4">
                <div className="flex items-center gap-2 mb-2.5">
                  <Phone className="w-5 h-5 text-gray-700" />
                  <p className="text-sm font-semibold text-gray-900">–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</p>
                </div>
                <div className="space-y-1.5 text-xs text-gray-700">
                  <p><span className="font-semibold">Email:</span> booking@pfvmusic.ru</p>
                  <p><span className="font-semibold">Telegram:</span> @pfvmusic_support</p>
                  <p><span className="font-semibold">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ:</span> vk.ru/pfvmusic</p>
                  <p className="pt-2 border-t border-gray-200 mt-2">
                    <span className="font-semibold">–ò–ü:</span> –û—Ä–µ—Ö–æ–≤ –î–∞–Ω–∏–ª–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á
                  </p>
                </div>
              </div>
            </div>
          </section>

          {/* Social Links */}
          <div className="mt-10 pt-10 border-t border-gray-100">
            <h3 className="text-center text-sm font-semibold text-gray-500 uppercase tracking-wider mb-6">
              –ú—ã –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö
            </h3>
            <div className="flex flex-wrap justify-center gap-4">
              {/* VK Group */}
              <a
                href="https://vk.ru/pfvmusic"
                target="_blank"
                rel="noopener noreferrer"
                className="group flex items-center gap-3 rounded-2xl bg-white border border-gray-100 px-5 py-3 shadow-sm hover:shadow-lg hover:border-blue-200 transition-all duration-200"
              >
                <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                  <svg className="w-5 h-5 text-white" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.684 0H8.316C1.592 0 0 1.592 0 8.316v7.368C0 22.408 1.592 24 8.316 24h7.368C22.408 24 24 22.408 24 15.684V8.316C24 1.592 22.408 0 15.684 0zm3.692 17.123h-1.744c-.66 0-.864-.525-2.05-1.727-1.033-1-1.49-1.135-1.744-1.135-.356 0-.458.102-.458.593v1.575c0 .424-.135.678-1.253.678-1.846 0-3.896-1.118-5.335-3.202C4.624 10.857 4 8.684 4 8.245c0-.254.102-.491.593-.491h1.744c.44 0 .61.203.78.677.847 2.49 2.27 4.673 2.86 4.673.22 0 .322-.102.322-.66V9.721c-.068-1.186-.695-1.287-.695-1.71 0-.203.17-.407.44-.407h2.744c.373 0 .508.203.508.643v3.473c0 .372.17.508.271.508.22 0 .407-.136.813-.542 1.27-1.422 2.168-3.608 2.168-3.608.119-.254.322-.491.763-.491h1.744c.525 0 .644.27.525.643-.22 1.017-2.354 4.031-2.354 4.031-.186.305-.254.44 0 .78.186.254.796.779 1.203 1.253.745.847 1.32 1.558 1.473 2.05.17.49-.085.744-.576.744z"/>
                  </svg>
                </div>
                <div>
                  <p className="text-sm font-semibold text-gray-900">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</p>
                  <p className="text-xs text-gray-500">–ì—Ä—É–ø–ø–∞</p>
                </div>
              </a>
              
              {/* Telegram Channel */}
              <a
                href="https://t.me/pfvmusic"
                target="_blank"
                rel="noopener noreferrer"
                className="group flex items-center gap-3 rounded-2xl bg-white border border-gray-100 px-5 py-3 shadow-sm hover:shadow-lg hover:border-sky-200 transition-all duration-200"
              >
                <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                  <svg className="w-5 h-5 text-white" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                  </svg>
                </div>
                <div>
                  <p className="text-sm font-semibold text-gray-900">Telegram</p>
                  <p className="text-xs text-gray-500">–ö–∞–Ω–∞–ª</p>
                </div>
              </a>
              
              {/* Support */}
              <a
                href="https://t.me/pfvmusic_support"
                target="_blank"
                rel="noopener noreferrer"
                className="group flex items-center gap-3 rounded-2xl bg-white border border-gray-100 px-5 py-3 shadow-sm hover:shadow-lg hover:border-purple-200 transition-all duration-200"
              >
                <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center group-hover:scale-110 transition-transform">
                  <svg className="w-5 h-5 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                  </svg>
                </div>
                <div>
                  <p className="text-sm font-semibold text-gray-900">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</p>
                  <p className="text-xs text-gray-500">Telegram</p>
                </div>
              </a>
            </div>
          </div>
        </div>
        
        <Footer />
        {renderOfferModal()}
      </div>
    );
  }

  // ‚ïê‚ïê‚ïê SUCCESS PAGE ‚ïê‚ïê‚ïê
  if (mode === 'success') {
    return (
      <div className="min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-50/30">
        <Header onBack={goHome} />
        <div className="mx-auto max-w-2xl px-4 py-20">
          <div className="rounded-3xl border-2 border-emerald-200 bg-white p-10 text-center shadow-2xl shadow-emerald-100/30">
            {/* Success Animation */}
            <div className="relative mx-auto mb-8">
              <div className="absolute inset-0 rounded-full bg-emerald-200 animate-ping opacity-20" style={{ animationDuration: '2s' }} />
              <div className="relative mx-auto flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-xl shadow-emerald-200/50">
                <CheckCircle2 className="h-12 w-12 text-white" />
              </div>
            </div>
            
            <h2 className="text-3xl font-extrabold text-gray-900 mb-4">
              –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞{' '}
              <span className="bg-gradient-to-r from-emerald-500 to-emerald-600 bg-clip-text text-transparent">
                —É—Å–ø–µ—à–Ω–æ!
              </span>
            </h2>
            
            <p className="text-gray-600 mb-2 leading-relaxed text-lg">
              –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –æ–ø–ª–∞—Ç—É!
            </p>
            <p className="text-gray-500 text-sm mb-8 max-w-md mx-auto">
              –í–∞—à –ø–ª–∞—Ç—ë–∂ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω. –ú—ã –Ω–∞—á–Ω—ë–º —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –≤–∞—à–∏–º —Ä–µ–ª–∏–∑–æ–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.
            </p>
            
            <div className="bg-emerald-50 rounded-2xl p-6 mb-8 border border-emerald-100">
              <div className="flex items-center justify-center gap-3 mb-4">
                <div className="w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center">
                  <Send className="w-5 h-5 text-emerald-600" />
                </div>
                <span className="font-semibold text-emerald-800">–ß—Ç–æ –¥–∞–ª—å—à–µ?</span>
              </div>
              <p className="text-sm text-emerald-700">
                –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ–ª–∏–∑–∞.
              </p>
            </div>
            
            {/* Contact Links */}
            <div className="flex flex-wrap justify-center gap-3 mb-8">
              <a
                href="https://t.me/pfvmusic_support"
                target="_blank"
                rel="noopener noreferrer"
                className="inline-flex items-center gap-2 rounded-xl bg-sky-50 border border-sky-100 px-5 py-3 text-sm font-semibold text-sky-700 hover:bg-sky-100 transition-all"
              >
                <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
                Telegram Support
              </a>
              <a
                href="https://vk.ru/pfvmusic"
                target="_blank"
                rel="noopener noreferrer"
                className="inline-flex items-center gap-2 rounded-xl bg-blue-50 border border-blue-100 px-5 py-3 text-sm font-semibold text-blue-700 hover:bg-blue-100 transition-all"
              >
                <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M15.684 0H8.316C1.592 0 0 1.592 0 8.316v7.368C0 22.408 1.592 24 8.316 24h7.368C22.408 24 24 22.408 24 15.684V8.316C24 1.592 22.408 0 15.684 0zm3.692 17.123h-1.744c-.66 0-.864-.525-2.05-1.727-1.033-1-1.49-1.135-1.744-1.135-.356 0-.458.102-.458.593v1.575c0 .424-.135.678-1.253.678-1.846 0-3.896-1.118-5.335-3.202C4.624 10.857 4 8.684 4 8.245c0-.254.102-.491.593-.491h1.744c.44 0 .61.203.78.677.847 2.49 2.27 4.673 2.86 4.673.22 0 .322-.102.322-.66V9.721c-.068-1.186-.695-1.287-.695-1.71 0-.203.17-.407.44-.407h2.744c.373 0 .508.203.508.643v3.473c0 .372.17.508.271.508.22 0 .407-.136.813-.542 1.27-1.422 2.168-3.608 2.168-3.608.119-.254.322-.491.763-.491h1.744c.525 0 .644.27.525.643-.22 1.017-2.354 4.031-2.354 4.031-.186.305-.254.44 0 .78.186.254.796.779 1.203 1.253.745.847 1.32 1.558 1.473 2.05.17.49-.085.744-.576.744z"/>
                </svg>
                –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
              </a>
            </div>
            
            <div className="flex flex-col sm:flex-row gap-3 justify-center">
              <button
                type="button"
                onClick={() => navigateTo('distribution')}
                className="rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-emerald-200 hover:from-emerald-600 hover:to-emerald-700 transition-all active:scale-[0.98]"
              >
                –û—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—â—ë —Ä–µ–ª–∏–∑
              </button>
              <button
                type="button"
                onClick={goHome}
                className="inline-flex items-center justify-center gap-2 rounded-xl border border-gray-200 bg-white px-6 py-3 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all active:scale-[0.98]"
              >
                <Home className="w-4 h-4" />
                –ù–∞ –≥–ª–∞–≤–Ω—É—é
              </button>
            </div>
          </div>
        </div>
        <Footer />
      </div>
    );
  }

  // ‚ïê‚ïê‚ïê FAIL PAGE ‚ïê‚ïê‚ïê
  if (mode === 'fail') {
    return (
      <div className="min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50/30">
        <Header onBack={goHome} />
        <div className="mx-auto max-w-2xl px-4 py-20">
          <div className="rounded-3xl border-2 border-red-200 bg-white p-10 text-center shadow-2xl shadow-red-100/30">
            {/* Fail Animation */}
            <div className="relative mx-auto mb-8">
              <div className="relative mx-auto flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-red-400 to-red-600 shadow-xl shadow-red-200/50">
                <XCircle className="h-12 w-12 text-white" />
              </div>
            </div>
            
            <h2 className="text-3xl font-extrabold text-gray-900 mb-4">
              –û—à–∏–±–∫–∞{' '}
              <span className="bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent">
                –æ–ø–ª–∞—Ç—ã
              </span>
            </h2>
            
            <p className="text-gray-600 mb-2 leading-relaxed text-lg">
              –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø–ª–∞—Ç—ë–∂ –Ω–µ –±—ã–ª –∑–∞–≤–µ—Ä—à—ë–Ω
            </p>
            <p className="text-gray-500 text-sm mb-8 max-w-md mx-auto">
              –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π.
            </p>
            
            <div className="bg-red-50 rounded-2xl p-6 mb-8 border border-red-100">
              <div className="flex items-center justify-center gap-3 mb-4">
                <div className="w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center">
                  <AlertCircle className="w-5 h-5 text-red-600" />
                </div>
                <span className="font-semibold text-red-800">–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã</span>
              </div>
              <ul className="text-sm text-red-700 space-y-2 text-left max-w-sm mx-auto">
                <li className="flex items-start gap-2">
                  <span className="w-1.5 h-1.5 rounded-full bg-red-400 mt-1.5 flex-shrink-0" />
                  –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –∫–∞—Ä—Ç–µ
                </li>
                <li className="flex items-start gap-2">
                  <span className="w-1.5 h-1.5 rounded-full bg-red-400 mt-1.5 flex-shrink-0" />
                  –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã
                </li>
                <li className="flex items-start gap-2">
                  <span className="w-1.5 h-1.5 rounded-full bg-red-400 mt-1.5 flex-shrink-0" />
                  –ë–∞–Ω–∫ –æ—Ç–∫–ª–æ–Ω–∏–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
                </li>
                <li className="flex items-start gap-2">
                  <span className="w-1.5 h-1.5 rounded-full bg-red-400 mt-1.5 flex-shrink-0" />
                  –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–π
                </li>
              </ul>
            </div>
            
            {/* Contact Support */}
            <div className="bg-purple-50 rounded-2xl p-6 mb-8 border border-purple-100">
              <div className="flex items-center justify-center gap-3 mb-3">
                <div className="w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center">
                  <Send className="w-5 h-5 text-purple-600" />
                </div>
                <span className="font-semibold text-purple-800">–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</span>
              </div>
              <p className="text-sm text-purple-700 mb-3">
                –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–ø–ª–∞—Ç–æ–π
              </p>
              <a
                href="https://t.me/pfvmusic_support"
                target="_blank"
                rel="noopener noreferrer"
                className="inline-flex items-center gap-2 text-sm font-semibold text-purple-600 hover:text-purple-800 transition-colors"
              >
                <ExternalLink className="w-4 h-4" />
                @pfvmusic_support
              </a>
            </div>
            
            <div className="flex flex-col sm:flex-row gap-3 justify-center">
              <button
                type="button"
                onClick={() => navigateTo('distribution')}
                className="rounded-xl bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-purple-200 hover:from-purple-700 hover:to-purple-800 transition-all active:scale-[0.98]"
              >
                –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
              </button>
              <button
                type="button"
                onClick={goHome}
                className="inline-flex items-center justify-center gap-2 rounded-xl border border-gray-200 bg-white px-6 py-3 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all active:scale-[0.98]"
              >
                <Home className="w-4 h-4" />
                –ù–∞ –≥–ª–∞–≤–Ω—É—é
              </button>
            </div>
          </div>
        </div>
        <Footer />
      </div>
    );
  }

  // ‚ïê‚ïê‚ïê RESULT PAGE (Payment Processing) ‚ïê‚ïê‚ïê
  if (mode === 'result') {
    return (
      <div className="min-h-screen bg-gradient-to-br from-amber-50 via-white to-amber-50/30">
        <Header onBack={goHome} />
        <div className="mx-auto max-w-2xl px-4 py-20">
          <div className="rounded-3xl border-2 border-amber-200 bg-white p-10 text-center shadow-2xl shadow-amber-100/30">
            {/* Processing Animation */}
            <div className="relative mx-auto mb-8">
              <div className="absolute inset-0 rounded-full border-4 border-amber-200 animate-spin" style={{ animationDuration: '3s', borderTopColor: 'transparent', borderRightColor: 'transparent' }} />
              <div className="relative mx-auto flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-amber-400 to-amber-600 shadow-xl shadow-amber-200/50">
                <Clock className="h-12 w-12 text-white" />
              </div>
            </div>
            
            <h2 className="text-3xl font-extrabold text-gray-900 mb-4">
              –û–±—Ä–∞–±–æ—Ç–∫–∞{' '}
              <span className="bg-gradient-to-r from-amber-500 to-orange-500 bg-clip-text text-transparent">
                –ø–ª–∞—Ç–µ–∂–∞
              </span>
            </h2>
            
            <p className="text-gray-600 mb-2 leading-relaxed text-lg">
              –í–∞—à –ø–ª–∞—Ç—ë–∂ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
            </p>
            <p className="text-gray-500 text-sm mb-8 max-w-md mx-auto">
              –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç. –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.
            </p>
            
            <div className="bg-amber-50 rounded-2xl p-6 mb-8 border border-amber-100">
              <div className="flex items-center justify-center gap-3 mb-4">
                <div className="w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center animate-pulse">
                  <Clock className="w-5 h-5 text-amber-600" />
                </div>
                <span className="font-semibold text-amber-800">–°—Ç–∞—Ç—É—Å: –í –æ–±—Ä–∞–±–æ—Ç–∫–µ</span>
              </div>
              <p className="text-sm text-amber-700">
                –ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞—à –ø–ª–∞—Ç—ë–∂. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
              </p>
            </div>
            
            {/* Info Box */}
            <div className="bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100">
              <h3 className="font-semibold text-gray-800 mb-3">–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?</h3>
              <ul className="text-sm text-gray-600 space-y-2 text-left max-w-sm mx-auto">
                <li className="flex items-start gap-2">
                  <span className="w-5 h-5 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 text-xs font-bold flex-shrink-0">1</span>
                  –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                </li>
                <li className="flex items-start gap-2">
                  <span className="w-5 h-5 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 text-xs font-bold flex-shrink-0">2</span>
                  –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–∞–Ω–∫–æ–º
                </li>
                <li className="flex items-start gap-2">
                  <span className="w-5 h-5 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 text-xs font-bold flex-shrink-0">3</span>
                  –ó–∞—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤
                </li>
              </ul>
            </div>
            
            {/* Contact */}
            <div className="bg-purple-50 rounded-2xl p-6 mb-8 border border-purple-100">
              <p className="text-sm text-purple-700 mb-3">
                –ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
              </p>
              <a
                href="https://t.me/pfvmusic_support"
                target="_blank"
                rel="noopener noreferrer"
                className="inline-flex items-center gap-2 text-sm font-semibold text-purple-600 hover:text-purple-800 transition-colors"
              >
                <ExternalLink className="w-4 h-4" />
                @pfvmusic_support
              </a>
            </div>
            
            <div className="flex flex-col sm:flex-row gap-3 justify-center">
              <button
                type="button"
                onClick={() => window.location.reload()}
                className="rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-amber-200 hover:from-amber-600 hover:to-orange-600 transition-all active:scale-[0.98]"
              >
                –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
              </button>
              <button
                type="button"
                onClick={goHome}
                className="inline-flex items-center justify-center gap-2 rounded-xl border border-gray-200 bg-white px-6 py-3 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all active:scale-[0.98]"
              >
                <Home className="w-4 h-4" />
                –ù–∞ –≥–ª–∞–≤–Ω—É—é
              </button>
            </div>
          </div>
        </div>
        <Footer />
      </div>
    );
  }

  // ‚ïê‚ïê‚ïê PROMO PAGE ‚ïê‚ïê‚ïê
  if (mode === 'promo') {
    if (promoSubmitted) {
      return (
        <div className="min-h-screen bg-gradient-to-br from-amber-50 via-white to-amber-50/30">
          <Header onBack={goHome} />
          <div className="mx-auto max-w-2xl px-4 py-20">
            <div className="rounded-2xl border border-emerald-200 bg-white p-10 text-center shadow-xl shadow-emerald-100/20">
              <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-emerald-100">
                <CheckCircle2 className="h-10 w-10 text-emerald-600" />
              </div>
              <h2 className="text-2xl font-bold text-gray-900 mb-3">–ó–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–æ–º–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</h2>
              <p className="text-gray-600 mb-2 leading-relaxed">
                –°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–º–æ!
              </p>
              <p className="text-gray-500 text-sm mb-6">
                –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤–∞—à—É –∑–∞—è–≤–∫—É –∏ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.
              </p>
              <div className="flex flex-col sm:flex-row gap-3 justify-center">
                <button
                  type="button"
                  onClick={resetPromo}
                  className="rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-amber-200 hover:from-amber-600 hover:to-orange-700 transition-all active:scale-[0.98]"
                >
                  –û—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–Ω—É –∑–∞—è–≤–∫—É
                </button>
                <button
                  type="button"
                  onClick={goHome}
                  className="rounded-xl border border-gray-200 bg-white px-6 py-3 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all active:scale-[0.98]"
                >
                  –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </button>
              </div>
            </div>
          </div>
        </div>
      );
    }
    
    return (
      <div className="min-h-screen bg-gradient-to-br from-amber-50/80 via-white to-amber-50/40">
        <Header onBack={goHome} />
        
        {/* Hero */}
        <div className="relative overflow-hidden">
          <div className="absolute inset-0 bg-gradient-to-b from-amber-100/50 to-transparent pointer-events-none" />
          <div className="mx-auto max-w-3xl px-4 pt-10 pb-8 text-center relative">
            <div className="inline-flex items-center gap-2 rounded-full bg-amber-100/80 px-4 py-1.5 text-xs font-semibold text-amber-700 mb-5 backdrop-blur-sm border border-amber-200/50">
              <Megaphone className="w-3.5 h-3.5" />
              –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–º–æ
            </div>
            <h1 className="text-2xl md:text-4xl font-extrabold text-gray-900 mb-3 tracking-tight">
              –ü—Ä–æ–º–æ –≤–∞—à–µ–≥–æ{' '}
              <span className="bg-gradient-to-r from-amber-500 to-orange-600 bg-clip-text text-transparent">
                —Ä–µ–ª–∏–∑–∞
              </span>
            </h1>
            <p className="text-sm md:text-base text-gray-500 max-w-lg mx-auto leading-relaxed">
              –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Ä–µ–ª–∏–∑–∞ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö
            </p>
          </div>
        </div>
        
        {/* Validation Errors */}
        {promoErrors.length > 0 && (
          <div className="mx-auto max-w-3xl px-4 mb-6">
            <div className="rounded-2xl border-2 border-red-200 bg-red-50/80 p-5 shadow-lg shadow-red-100/20">
              <div className="flex items-start gap-3">
                <div className="w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center flex-shrink-0">
                  <AlertCircle className="w-5 h-5 text-red-600" />
                </div>
                <div className="flex-1">
                  <h3 className="font-bold text-red-800 mb-2">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</h3>
                  <ul className="space-y-1">
                    {promoErrors.slice(0, 5).map((error, i) => (
                      <li key={i} className="text-sm text-red-700 flex items-start gap-2">
                        <span className="w-1.5 h-1.5 rounded-full bg-red-400 mt-1.5 flex-shrink-0" />
                        {error}
                      </li>
                    ))}
                    {promoErrors.length > 5 && (
                      <li className="text-sm text-red-600 font-medium mt-2">
                        ... –∏ –µ—â—ë {promoErrors.length - 5} –æ—à–∏–±–æ–∫
                      </li>
                    )}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        )}
        
        {/* Promo Form */}
        <div className="mx-auto max-w-3xl px-4 pb-8">
          <StepPromo data={promoData} onChange={handlePromoChange} />
          
          {/* Submit Button */}
          <div className="flex justify-end mt-8">
            <button
              type="button"
              onClick={handlePromoSubmit}
              disabled={promoSubmitting}
              className="flex items-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 via-orange-500 to-orange-600 px-8 py-3 text-sm font-semibold text-white shadow-lg shadow-amber-200/50 hover:shadow-amber-300/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed disabled:hover:scale-100"
            >
              {promoSubmitting ? (
                <>
                  <Loader2 className="w-4 h-4 animate-spin" />
                  –û—Ç–ø—Ä–∞–≤–∫–∞...
                </>
              ) : (
                <>
                  <Send className="w-4 h-4" />
                  –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                </>
              )}
            </button>
          </div>
        </div>
        
        <Footer />
      </div>
    );
  }

  // ‚ïê‚ïê‚ïê SIGN PAGE ‚ïê‚ïê‚ïê
  if (mode === 'sign') {
    return <SignPage />;
  }

  // ‚ïê‚ïê‚ïê DISTRIBUTION PAGE ‚ïê‚ïê‚ïê
  if (submitted) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-purple-50 via-white to-purple-50/30">
        <Header onBack={goHome} />
        <div className="mx-auto max-w-2xl px-4 py-20">
          <div className="rounded-2xl border border-emerald-200 bg-white p-10 text-center shadow-xl shadow-emerald-100/20">
            <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-emerald-100">
              <CheckCircle2 className="h-10 w-10 text-emerald-600" />
            </div>
            <h2 className="text-2xl font-bold text-gray-900 mb-3">–§–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</h2>
            <p className="text-gray-600 mb-2 leading-relaxed">
              –°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Ä–µ–ª–∏–∑–∞ –Ω–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—é!
            </p>
            <p className="text-gray-500 text-sm mb-6">
              –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
            </p>
            <div className="inline-flex items-center gap-2 rounded-lg bg-purple-50 px-4 py-2 text-sm text-purple-700 font-medium mb-6">
              <Send className="w-4 h-4" />
              –ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏ –≤ Telegram –∏–ª–∏ VK
            </div>
            <div className="flex flex-col sm:flex-row gap-3 justify-center">
              <button
                type="button"
                onClick={resetDistribution}
                className="rounded-xl bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-purple-200 hover:from-purple-700 hover:to-purple-800 transition-all active:scale-[0.98]"
              >
                –û—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω —Ä–µ–ª–∏–∑
              </button>
              <button
                type="button"
                onClick={goHome}
                className="rounded-xl border border-gray-200 bg-white px-6 py-3 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all active:scale-[0.98]"
              >
                –ù–∞ –≥–ª–∞–≤–Ω—É—é
              </button>
            </div>
          </div>
        </div>
      </div>
    );
  }

  const progressPercent = ((currentStep - 1) / 3) * 100;

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-50/80 via-white to-purple-50/40">
      <Header onBack={goHome} />

      {/* Hero */}
      <div className="relative overflow-hidden">
        <div className="absolute inset-0 bg-gradient-to-b from-purple-100/50 to-transparent pointer-events-none" />
        <div className="mx-auto max-w-3xl px-4 pt-10 pb-8 text-center relative">
          <div className="inline-flex items-center gap-2 rounded-full bg-purple-100/80 px-4 py-1.5 text-xs font-semibold text-purple-700 mb-5 backdrop-blur-sm border border-purple-200/50">
            <Sparkles className="w-3.5 h-3.5" />
            –ú—É–∑—ã–∫–∞–ª—å–Ω–æ–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ PFVMUSIC
          </div>
          <h1 className="text-2xl md:text-4xl font-extrabold text-gray-900 mb-3 tracking-tight">
            –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–µ–∫–∞ –Ω–∞{' '}
            <span className="bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent">
              –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—é
            </span>
          </h1>
          <p className="text-sm md:text-base text-gray-500 max-w-lg mx-auto leading-relaxed">
            –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É, —á—Ç–æ–±—ã –≤–∞—à —Ä–µ–ª–∏–∑ —Å–º–æ–≥ –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ —Å–ª—É—à–∞—Ç–µ–ª–µ–π –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
          </p>
        </div>
      </div>

      {/* Progress Bar */}
      <div className="mx-auto max-w-3xl px-4 mb-2">
        <div className="h-1 bg-gray-100 rounded-full overflow-hidden">
          <div
            className="h-full bg-gradient-to-r from-purple-500 to-purple-600 rounded-full transition-all duration-500 ease-out"
            style={{ width: `${progressPercent}%` }}
          />
        </div>
      </div>

      {/* Stepper */}
      <div className="mx-auto max-w-3xl px-4 mb-8">
        <div className="flex items-center justify-between rounded-2xl bg-white/80 backdrop-blur-sm border border-gray-100/80 p-1.5 shadow-sm">
          {DISTRIBUTION_STEPS.map((step, idx) => {
            const Icon = step.icon;
            const isActive = currentStep === step.id;
            const isCompleted = currentStep > step.id;
            return (
              <button
                key={step.id}
                type="button"
                onClick={() => {
                  setCurrentStep(step.id);
                  window.scrollTo({ top: 0, behavior: 'smooth' });
                }}
                className={cn(
                  'flex items-center gap-2 rounded-xl px-3 md:px-5 py-2.5 text-xs md:text-sm font-semibold transition-all duration-300 flex-1 justify-center',
                  isActive && 'bg-gradient-to-r from-purple-600 to-purple-700 text-white shadow-md shadow-purple-200/50',
                  isCompleted && !isActive && 'bg-purple-50 text-purple-600',
                  !isActive && !isCompleted && 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'
                )}
              >
                <div className="relative">
                  <Icon className="w-4 h-4" />
                  {isCompleted && !isActive && (
                    <div className="absolute -top-1 -right-1 w-2.5 h-2.5 rounded-full bg-emerald-500 border-2 border-white" />
                  )}
                </div>
                <span className="hidden sm:inline">{step.label}</span>
                <span className="sm:hidden">{idx + 1}</span>
              </button>
            );
          })}
        </div>
      </div>

      {/* Validation Errors */}
      {validationErrors.length > 0 && (
        <div className="mx-auto max-w-3xl px-4 mb-6">
          <div className="rounded-2xl border-2 border-red-200 bg-red-50/80 p-5 shadow-lg shadow-red-100/20">
            <div className="flex items-start gap-3">
              <div className="w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center flex-shrink-0">
                <AlertCircle className="w-5 h-5 text-red-600" />
              </div>
              <div className="flex-1">
                <h3 className="font-bold text-red-800 mb-2">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</h3>
                <ul className="space-y-1">
                  {validationErrors.slice(0, 5).map((error, i) => (
                    <li key={i} className="text-sm text-red-700 flex items-start gap-2">
                      <span className="w-1.5 h-1.5 rounded-full bg-red-400 mt-1.5 flex-shrink-0" />
                      {error}
                    </li>
                  ))}
                  {validationErrors.length > 5 && (
                    <li className="text-sm text-red-600 font-medium mt-2">
                      ... –∏ –µ—â—ë {validationErrors.length - 5} –æ—à–∏–±–æ–∫
                    </li>
                  )}
                </ul>
              </div>
            </div>
          </div>
        </div>
      )}

      {/* Step Content */}
      <div className="mx-auto max-w-3xl px-4 pb-8">
        <div key={currentStep} className="animate-in">
          {currentStep === 1 && <StepOne data={formData} onChange={handleChange} />}
          {currentStep === 2 && <StepTwo data={formData} onChange={handleChange} />}
          {currentStep === 3 && <StepThree agreed={agreed} onAgree={setAgreed} />}
          {currentStep === 4 && <StepFour data={formData} onChange={handleChange} onGoToPromo={() => navigateTo('promo')} />}
        </div>

        {/* Navigation Buttons */}
        <div className="flex items-center justify-between mt-8 gap-4">
          {currentStep > 1 ? (
            <button
              type="button"
              onClick={goPrev}
              className="flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-5 py-3 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:border-gray-300 hover:shadow-md transition-all duration-200 active:scale-[0.98]"
            >
              <ChevronLeft className="w-4 h-4" />
              –ù–∞–∑–∞–¥
            </button>
          ) : (
            <div />
          )}

          {currentStep < 4 ? (
            <button
              type="button"
              onClick={goNext}
              className="flex items-center gap-2 rounded-xl bg-gradient-to-r from-purple-600 to-purple-700 px-7 py-3 text-sm font-semibold text-white shadow-lg shadow-purple-200/50 hover:from-purple-700 hover:to-purple-800 hover:shadow-purple-300/50 transition-all duration-200 active:scale-[0.98]"
            >
              –î–∞–ª–µ–µ
              <ChevronRight className="w-4 h-4" />
            </button>
          ) : (
            <button
              type="button"
              onClick={handleDistributionSubmit}
              disabled={submitting || !canSubmitDistribution}
              className="flex items-center gap-2 rounded-xl bg-gradient-to-r from-purple-600 via-purple-700 to-purple-800 px-8 py-3 text-sm font-semibold text-white shadow-lg shadow-purple-200/50 hover:shadow-purple-300/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed disabled:hover:scale-100"
            >
              {submitting ? (
                <>
                  <Loader2 className="w-4 h-4 animate-spin" />
                  –û—Ç–ø—Ä–∞–≤–∫–∞...
                </>
              ) : (
                <>
                  <Send className="w-4 h-4" />
                  –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                </>
              )}
            </button>
          )}
        </div>

        {/* Step indicator */}
        <div className="mt-6 flex justify-center">
          <div className="flex items-center gap-2">
            {DISTRIBUTION_STEPS.map((step) => (
              <div
                key={step.id}
                className={cn(
                  'h-1.5 rounded-full transition-all duration-300',
                  currentStep === step.id ? 'w-8 bg-purple-500' : currentStep > step.id ? 'w-4 bg-purple-300' : 'w-4 bg-gray-200'
                )}
              />
            ))}
          </div>
        </div>
      </div>

      <Footer />
    </div>
  );
}

function Header({ onBack }: { onBack?: () => void }) {
  return (
    <header className="sticky top-0 z-50 border-b border-gray-100/80 bg-white/80 backdrop-blur-xl">
      <div className="mx-auto max-w-3xl flex items-center justify-between px-4 py-3">
        <div className="flex items-center gap-3">
          {onBack && (
            <button
              type="button"
              onClick={onBack}
              className="mr-2 p-2 rounded-lg hover:bg-gray-100 transition-colors"
              title="–ù–∞ –≥–ª–∞–≤–Ω—É—é"
            >
              <ArrowLeft className="w-5 h-5 text-gray-600" />
            </button>
          )}
          <div className="w-10 h-10 rounded-xl flex items-center justify-center shadow-lg shadow-purple-200/50 overflow-hidden bg-white">
            {/* Use uploaded logo from public/ so it resolves both in dev and production */}
            <img src="/Frame%203.png" alt="PFVMUSIC" className="w-8 h-8 object-contain" />
          </div>
          <div>
            <h1 className="text-base font-extrabold text-gray-900 tracking-tight">PFVMUSIC</h1>
            <p className="text-[10px] text-gray-400 font-medium uppercase tracking-widest">–ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ</p>
          </div>
        </div>
        <div />
      </div>
    </header>
  );
}

function Footer() {
  return (
    <footer className="border-t border-gray-100 bg-white/60 backdrop-blur-sm mt-8">
      <div className="mx-auto max-w-3xl px-4 py-8">
        <div className="flex flex-col sm:flex-row items-center justify-between gap-4">
          <div className="flex items-center gap-3">
            <div className="w-9 h-9 rounded-xl flex items-center justify-center shadow-md shadow-purple-200/50 overflow-hidden bg-white">
                <img src="/Frame%203.png" alt="PFVMUSIC" className="w-5 h-5 object-contain" />
              </div>
            <div>
              <span className="text-sm font-bold text-gray-900">PFVMUSIC</span>
              <p className="text-[10px] text-gray-400 font-medium">–ú—É–∑—ã–∫–∞–ª—å–Ω–æ–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ</p>
            </div>
          </div>
          <div className="text-center sm:text-right">
            <p className="text-xs text-gray-400">
              ¬© {new Date().getFullYear()} PFVMUSIC. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
            </p>
            <a href="mailto:booking@pfvmusic.ru" className="text-xs text-purple-500 hover:text-purple-700 transition-colors">
              booking@pfvmusic.ru
            </a>
          </div>
        </div>
      </div>
    </footer>
  );
}
